<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tranzita Systems ¬∑ DSA</title>
  <!-- Raw, unpolished fonts -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;600;700&family=Space+Grotesk:wght@600;700;800&display=swap" rel="stylesheet">
  <style>
    /* ---------- NEW BRUTALISM ‚Äì HARSH, BOLD, NO SHADOWS, STRAIGHT EDGES ---------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-user-drag: none;
      -moz-user-drag: none;
      -o-user-drag: none;
      user-drag: none;
    }

    body {
      font-family: 'IBM Plex Mono', 'Space Grotesk', monospace, sans-serif;
      background: #f0f2f5;
      color: #000;
      line-height: 1.4;
    }

    input, button, .back-btn, .set-card, .modal-box, .error-message {
      -webkit-user-select: auto !important;
      -moz-user-select: auto !important;
      -ms-user-select: auto !important;
      user-select: auto !important;
    }

    /* ---------- BRUTALIST NAVIGATION ‚Äì HEAVY BORDERS, NO ROUNDING ---------- */
    .navbar {
      background: #ffcc00;
      color: #000;
      padding: 1.2rem 2.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.6rem;
      font-weight: 800;
      font-family: 'Space Grotesk', sans-serif;
      text-transform: uppercase;
      letter-spacing: 2px;
      border-bottom: 6px solid #000;
      border-top: 6px solid #000;
    }

    /* ---------- BRUTALIST SETS GRID ‚Äì RAW COLORS, FLAT, SHARP ---------- */
    .sets-screen {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      padding: 2.5rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .set-card {
      background: white;
      border: 4px solid #000;
      padding: 2rem 1.8rem;
      cursor: pointer;
      transition: 0.05s linear;
      box-shadow: none;
      font-family: 'Space Grotesk', sans-serif;
    }

    .set-card:hover {
      background: #000;
      color: white;
      border-color: #000;
      transform: translate(-6px, -6px);
      box-shadow: 12px 12px 0 rgba(0,0,0,0.2);
    }

    .set-card:hover .set-title,
    .set-card:hover .set-title span {
      color: white;
    }

    /* brutalist color blocks ‚Äì no subtlety */
    .set-card:nth-child(1) { 
      background: #ffb8b8; 
      border-color: #000;
    }
    .set-card:nth-child(2) { 
      background: #aaffaa; 
      border-color: #000;
    }
    .set-card:nth-child(3) { 
      background: #aaddff; 
      border-color: #000;
    }

    .set-title {
      font-size: 2.2rem;
      font-weight: 800;
      color: #000;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-family: 'Space Grotesk', sans-serif;
      text-transform: uppercase;
    }

    .set-title span {
      font-size: 2rem;
    }

    /* ---------- QUESTION VIEW ‚Äì NO ROUNDED CORNERS, THICK BORDERS ---------- */
    .questions-screen {
      display: none;
      padding: 2.5rem;
      max-width: 1100px;
      margin: 0 auto;
    }

    .back-btn {
      display: inline-block;
      padding: 0.8rem 1.8rem;
      background: #ffffff;
      border: 4px solid #000;
      font-weight: 700;
      color: #000;
      margin-bottom: 2rem;
      cursor: pointer;
      font-size: 1.2rem;
      font-family: 'Space Grotesk', sans-serif;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: 0.05s linear;
    }

    .back-btn:hover {
      background: #000;
      color: white;
      border-color: #000;
      transform: translate(-4px, -4px);
      box-shadow: 8px 8px 0 #aaa;
    }

    .q-card {
      background: white;
      border: 4px solid #000;
      padding: 2rem 2rem;
      margin-bottom: 2.5rem;
      box-shadow: 12px 12px 0 #000;
    }

    .q-title {
      font-size: 2rem;
      font-weight: 800;
      color: #000;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 6px solid #000;
      display: inline-block;
      font-family: 'Space Grotesk', sans-serif;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .section {
      margin-top: 2rem;
    }

    .section strong {
      font-weight: 700;
      color: #000;
      font-size: 1.2rem;
      display: block;
      margin-bottom: 0.6rem;
      font-family: 'Space Grotesk', sans-serif;
      text-transform: uppercase;
      border-left: 10px solid #000;
      padding-left: 0.8rem;
    }

    .problem-statement {
      background: #f0f0f0;
      border: 4px solid #000;
      padding: 1.2rem 1.4rem;
      margin-top: 0.3rem;
      color: #000;
      font-size: 1rem;
      line-height: 1.6;
      font-family: 'IBM Plex Mono', monospace;
    }
    
    /* ---------- BRUTALIST EXAMPLES ‚Äì HARSH, CLEAR LABELS ---------- */
    .examples-list {
      background: #fff;
      border: 4px solid #000;
      padding: 1.5rem 1.5rem;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 0.95rem;
      color: #000;
    }
    
    .example-item {
      margin-bottom: 1.2rem;
      padding-bottom: 1.2rem;
      border-bottom: 3px dashed #000;
    }
    
    .example-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }
    
    .example-input {
      color: #000;
      font-weight: 700;
      background: #ffed8c;
      display: inline-block;
      padding: 0.1rem 0.4rem;
      border: 2px solid #000;
    }
    
    /* ---------- BRUTALIST MODAL ‚Äì NO GRACE, ALL EDGES ---------- */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-box {
      background: white;
      border: 6px solid #000;
      padding: 2.5rem;
      width: 380px;
      box-shadow: 16px 16px 0 #000;
    }

    .modal-box h3 {
      font-size: 2rem;
      font-weight: 800;
      color: #000;
      margin-bottom: 0.5rem;
      font-family: 'Space Grotesk', sans-serif;
      text-transform: uppercase;
      border-bottom: 6px solid #000;
      display: inline-block;
    }

    input {
      width: 100%;
      padding: 1rem 1.2rem;
      margin-top: 2rem;
      border: 4px solid #000;
      border-radius: 0;
      font-size: 1.2rem;
      font-family: 'IBM Plex Mono', monospace;
      background: #fff;
    }

    input:focus {
      border-color: #000;
      outline: none;
      background: #feffc2;
    }

    button {
      width: 100%;
      margin-top: 2rem;
      padding: 1rem;
      border: 4px solid #000;
      background: #000;
      color: white;
      font-weight: 800;
      font-size: 1.2rem;
      border-radius: 0;
      cursor: pointer;
      font-family: 'Space Grotesk', sans-serif;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    button:hover {
      background: white;
      color: black;
      border-color: black;
      transform: translate(-4px, -4px);
      box-shadow: 8px 8px 0 #000;
    }

    .error-message {
      color: #d10000;
      font-size: 1rem;
      margin-top: 1rem;
      font-weight: 700;
      display: none;
      border-left: 8px solid #d10000;
      padding-left: 0.8rem;
      text-transform: uppercase;
    }

    .error-message.visible {
      display: block;
    }
  </style>
</head>
<body oncontextmenu="return false;" oncopy="return false;" oncut="return false;" onpaste="return false;" onselectstart="return false;" ondragstart="return false;">

<div class="navbar">
  <div>Tranzita Systems - DSA</div>
</div>

<!-- SETS -->
<div class="sets-screen" id="setsScreen"></div>

<!-- QUESTIONS -->
<div class="questions-screen" id="questionsScreen">
  <div class="back-btn" id="backButton">‚Üê BACK TO SETS</div>
  <div id="questionsContainer"></div>
</div>

<!-- PASSWORD MODAL -->
<div class="modal" id="modal" style="display:none">
  <div class="modal-box">
    <h3>PASSWORD</h3>
    <input type="password" id="passwordInput" autofocus>
    <div class="error-message" id="passwordError">INCORRECT PASSWORD</div>
    <button id="unlockButton">UNLOCK ‚Üí</button>
  </div>
</div>

<script>
  (function() {
    "use strict";

    // ---------- SECURITY ----------
    document.addEventListener('keydown', function(e) {
      if (e.ctrlKey || e.metaKey) {
        if (['c','C','v','V','x','X','s','S','u','U','p','P','a','A'].includes(e.key)) {
          e.preventDefault(); e.stopPropagation(); return false;
        }
      }
      if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && ['I','i','J','j','C','c'].includes(e.key))) {
        e.preventDefault(); e.stopPropagation(); return false;
      }
    });
    document.addEventListener('copy', e => e.preventDefault());
    document.addEventListener('cut', e => e.preventDefault());
    document.addEventListener('paste', e => e.preventDefault());
    document.addEventListener('selectstart', e => e.preventDefault());
    document.addEventListener('dragstart', e => e.preventDefault());
    document.addEventListener('contextmenu', e => e.preventDefault());

    // ---------- CONFIG ----------
    const LOCK_DURATION = 60 * 60 * 1000;
    const PASSWORDS = ["set1", "set2", "set3"];

    // ---------- DSA SETS ‚Äì WITH EXPLICIT INPUT/OUTPUT LABELS (BRUTALIST CLARITY) ----------
    const SETS = [
      [ // SET 1
        {
          title: "Move Zeroes",
          desc: `Given an integer array nums, move all 0's to the end while maintaining the relative order of non-zero elements. Must be done in-place with O(1) extra space.`,
          examples: [
            "Input: [0,1,0,3,12] ‚Üí Output: [1,3,12,0,0]  (zeros to end, order preserved)",
            "Input: [0] ‚Üí Output: [0]  (single element)",
            "Input: [1,0,1] ‚Üí Output: [1,1,0]  (zeros move right)"
          ]
        },
        {
          title: "Container With Most Water",
          desc: `Given an integer array height of length n, find two lines that together with the x-axis form a container that holds the maximum amount of water. Return the maximum area.`,
          examples: [
            "Input: [1,8,6,2,5,4,8,3,7] ‚Üí Output: 49  (width 7 √ó min(8,7) = 49)",
            "Input: [1,1] ‚Üí Output: 1  (width 1 √ó height 1)",
            "Input: [4,3,2,1,4] ‚Üí Output: 16  (width 4 √ó height 4)"
          ]
        },
        {
          title: "Longest Substring Without Repeating",
          desc: `Given a string s, find the length of the longest substring without repeating characters. Substring must be contiguous.`,
          examples: [
            "Input: 'abcabcbb' ‚Üí Output: 3  (longest is 'abc')",
            "Input: 'bbbbb' ‚Üí Output: 1  (all same char)",
            "Input: 'pwwkew' ‚Üí Output: 3  (longest is 'wke')",
            "Input: '' ‚Üí Output: 0  (empty string)"
          ]
        }
      ],
      [ // SET 2
        {
          title: "Valid Palindrome",
          desc: `A phrase is a palindrome if it reads the same forward and backward after converting to lowercase and removing all non-alphanumeric characters. Return true if palindrome, false otherwise.`,
          examples: [
            "Input: 'A man, a plan, a canal: Panama' ‚Üí Output: true  (reads same after cleanup)",
            "Input: 'race a car' ‚Üí Output: false  (not same forward/backward)",
            "Input: ' ' ‚Üí Output: true  (empty after cleanup)"
          ]
        },
        {
          title: "Product of Array Except Self",
          desc: `Return an array answer such that answer[i] = product of all elements of nums except nums[i]. O(n) time, no division, O(1) extra space.`,
          examples: [
            "Input: [1,2,3,4] ‚Üí Output: [24,12,8,6]  (product of all except self)",
            "Input: [-1,1,0,-3,3] ‚Üí Output: [0,0,9,0,0]  (zero makes product zero)",
            "Input: [2,2,2,2] ‚Üí Output: [8,8,8,8]  (all products are 8)"
          ]
        },
        {
          title: "Find All Anagrams",
          desc: `Given strings s and p, return all start indices of p's anagrams in s. Order of indices does not matter.`,
          examples: [
            "Input: s='cbaebabacd', p='abc' ‚Üí Output: [0,6]  ('cba' and 'bac' are anagrams)",
            "Input: s='abab', p='ab' ‚Üí Output: [0,1,2]  ('ab','ba','ab')",
            "Input: s='af', p='be' ‚Üí Output: []  (no anagrams)"
          ]
        }
      ],
      [ // SET 3
        {
          title: "Isomorphic Strings",
          desc: `Given two strings s and t, determine if they are isomorphic. Characters in s can be replaced to get t while preserving order. No two characters map to the same character.`,
          examples: [
            "Input: 'egg', 'add' ‚Üí Output: true  (e‚Üía, g‚Üíd)",
            "Input: 'foo', 'bar' ‚Üí Output: false  (o maps to both a and r)",
            "Input: 'paper', 'title' ‚Üí Output: true  (consistent mapping)"
          ]
        },
        {
          title: "Permutation in String",
          desc: `Given strings s1 and s2, return true if s2 contains a permutation of s1 as a substring.`,
          examples: [
            "Input: s1='ab', s2='eidbaooo' ‚Üí Output: true  ('ba' is permutation of 'ab')",
            "Input: s1='ab', s2='eidboaoo' ‚Üí Output: false  (no permutation found)",
            "Input: s1='adc', s2='dcda' ‚Üí Output: true  ('dca' is permutation)"
          ]
        },
        {
          title: "Valid Parentheses",
          desc: `Given a string containing just the characters '()[]{}', determine if the brackets are correctly matched and closed in the correct order.`,
          examples: [
            "Input: '()' ‚Üí Output: true  (simple pair)",
            "Input: '()[]{}' ‚Üí Output: true  (all bracket types)",
            "Input: '(]' ‚Üí Output: false  (mismatched)",
            "Input: '([)]' ‚Üí Output: false  (wrong order)",
            "Input: '{[]}' ‚Üí Output: true  (properly nested)"
          ]
        }
      ]
    ];

    // ---------- STATE ----------
    let activeInterval = null;
    let selectedSetIndex = null;

    const setsScreen = document.getElementById('setsScreen');
    const questionsScreen = document.getElementById('questionsScreen');
    const questionsContainer = document.getElementById('questionsContainer');
    const modal = document.getElementById('modal');
    const passwordInput = document.getElementById('passwordInput');
    const passwordError = document.getElementById('passwordError');
    const unlockBtn = document.getElementById('unlockButton');
    const backBtn = document.getElementById('backButton');

    // ---------- HELPERS ----------
    function getLock(i) {
      return JSON.parse(localStorage.getItem('dsa_set_' + i));
    }

    function isUnlocked(i) {
      let data = getLock(i);
      if (!data) return false;
      if (Date.now() > data.expiry) {
        localStorage.removeItem('dsa_set_' + i);
        return false;
      }
      return true;
    }

    function unlock(i) {
      let expiry = Date.now() + LOCK_DURATION;
      localStorage.setItem('dsa_set_' + i, JSON.stringify({ expiry }));
    }

    function hideError() {
      passwordError.classList.remove('visible');
    }

    function showError() {
      passwordError.classList.add('visible');
    }

    // ---------- RENDER SETS ----------
    function renderSets() {
      setsScreen.innerHTML = '';
      for (let i = 0; i < 3; i++) {
        let unlocked = isUnlocked(i);
        let div = document.createElement('div');
        div.className = 'set-card';
        div.innerHTML = `
          <div class="set-title">SET ${i+1} <span>${unlocked ? 'üîì' : 'üîí'}</span></div>
        `;
        div.onclick = () => {
          if (unlocked) {
            openSet(i);
          } else {
            selectedSetIndex = i;
            modal.style.display = 'flex';
            passwordInput.value = '';
            passwordError.classList.remove('visible');
            passwordInput.focus();
          }
        };
        setsScreen.appendChild(div);
      }
    }

    // ---------- PASSWORD VERIFICATION ----------
    window.verifyPassword = function() {
      let pwd = passwordInput.value.trim();
      if (selectedSetIndex === null) return;
      
      if (pwd === PASSWORDS[selectedSetIndex]) {
        unlock(selectedSetIndex);
        modal.style.display = 'none';
        passwordInput.value = '';
        passwordError.classList.remove('visible');
        openSet(selectedSetIndex);
        renderSets();
      } else {
        showError();
        passwordInput.value = '';
        passwordInput.focus();
      }
    };

    passwordInput.addEventListener('keydown', function(e) {
      hideError();
      if (e.key === 'Enter') {
        e.preventDefault();
        window.verifyPassword();
      }
    });

    passwordInput.addEventListener('input', hideError);

    if (unlockBtn) {
      unlockBtn.addEventListener('click', window.verifyPassword);
    }

    window.onclick = function(e) {
      if (e.target === modal) {
        modal.style.display = 'none';
        passwordInput.value = '';
        passwordError.classList.remove('visible');
      }
    };

    // ---------- OPEN SET ‚Äì NO TIMER, BRUTALIST EXAMPLES ----------
    function openSet(i) {
      let lockData = getLock(i);
      if (!lockData) return;

      setsScreen.style.display = 'none';
      questionsScreen.style.display = 'block';
      questionsContainer.innerHTML = '';

      SETS[i].forEach((q, idx) => {
        let card = document.createElement('div');
        card.className = 'q-card';
        
        // Build examples HTML with clear Input/Output labels
        let examplesHtml = '<div class="examples-list">';
        q.examples.forEach(ex => {
          examplesHtml += `<div class="example-item">
            <span class="example-input">${ex}</span>
          </div>`;
        });
        examplesHtml += '</div>';
        
        card.innerHTML = `
          <div class="q-title">${idx+1}. ${q.title}</div>
          <div class="section">
            <strong>PROBLEM</strong>
            <div class="problem-statement">${q.desc}</div>
          </div>
          <div class="section">
            <strong>EXAMPLES</strong>
            ${examplesHtml}
          </div>
        `;
        questionsContainer.appendChild(card);
      });
    }

    // ---------- BACK ----------
    window.goBack = function() {
      questionsScreen.style.display = 'none';
      setsScreen.style.display = 'grid';
    };

    backBtn.addEventListener('click', window.goBack);

    // ---------- INIT ----------
    renderSets();
  })();
</script>

</body>
</html>
