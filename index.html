<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tranzita Systems - DSA Round</title>

<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700;800&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Space Grotesk',sans-serif;
}

body{
  background:#ffffff;
  color:#000;
  min-height:100vh;
}

/* ===== NAVBAR ===== */
.navbar{
  padding:22px 40px;
  font-weight:800;
  font-size:22px;
  background:#ffe600;
  border-bottom:4px solid #000;
  text-transform:uppercase;
  letter-spacing:1px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.nav-timer{
  background:#ff5c5c;
  padding:8px 18px;
  border:3px solid #000;
  box-shadow:4px 4px 0 #000;
  display:none;
}

/* ===== SET SCREEN ===== */
.sets-screen{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:32px;
  padding:50px;
}

.set-card{
  background:#ff90e8;
  border:4px solid #000;
  padding:30px;
  cursor:pointer;
  transition:.15s;
  box-shadow:8px 8px 0 #000;
}

.set-card:nth-child(2){ background:#8aff80; }
.set-card:nth-child(3){ background:#7ad3ff; }

.set-card:hover{
  transform:translate(-4px,-4px);
  box-shadow:12px 12px 0 #000;
}

.set-title{
  font-size:22px;
  font-weight:800;
}

.lock{
  margin-top:10px;
  font-size:14px;
  font-weight:600;
}

/* ===== QUESTIONS SCREEN ===== */
.questions-screen{
  display:none;
  padding:50px;
  max-width:1100px;
  margin:auto;
}

.back-btn{
  margin-bottom:30px;
  cursor:pointer;
  font-weight:700;
  display:inline-block;
  padding:8px 16px;
  border:3px solid #000;
  background:#fff;
  box-shadow:4px 4px 0 #000;
}

.q-card{
  background:#ffffff;
  border:4px solid #000;
  padding:28px;
  margin-bottom:32px;
  box-shadow:8px 8px 0 #000;
}

.q-title{
  font-size:22px;
  font-weight:800;
}

.tag{
  display:inline-block;
  margin-top:10px;
  background:#000;
  color:#fff;
  padding:4px 12px;
  font-size:12px;
  font-weight:700;
}

.section{
  margin-top:20px;
}

.card{
  background:#f4f4f4;
  border:3px solid #000;
  padding:14px;
  margin-top:8px;
  font-family:monospace;
  white-space:pre-wrap;
}

/* ===== MODAL ===== */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
}

.modal-box{
  background:#ffffff;
  border:4px solid #000;
  padding:30px;
  width:320px;
  box-shadow:10px 10px 0 #000;
}

input{
  width:100%;
  padding:10px;
  margin-top:14px;
  border:3px solid #000;
}

button{
  width:100%;
  margin-top:16px;
  padding:12px;
  border:3px solid #000;
  background:#ff5c5c;
  font-weight:700;
  cursor:pointer;
  box-shadow:4px 4px 0 #000;
}
</style>
</head>

<body>

<div class="navbar">
  <div>Tranzita Systems - DSA Round</div>
  <div class="nav-timer" id="navTimer">00:00</div>
</div>

<div class="sets-screen" id="setsScreen"></div>

<div class="questions-screen" id="questionsScreen">
  <div class="back-btn" onclick="goBack()">‚Üê Back to Sets</div>
  <div id="questionsContainer"></div>
</div>

<div class="modal" id="modal" style="display:none">
  <div class="modal-box">
    <h3>Enter Set Password</h3>
    <input type="password" id="passwordInput">
    <button onclick="verifyPassword()">Unlock</button>
  </div>
</div>

<script>
/* ================= CONFIG ================= */
const PASSWORDS=["set1","set2","set3"];
const LOCK_DURATION = 60 * 60 * 1000; // 20 minutes

let activeInterval=null;
let selected=null;

/* ===== QUESTIONS DATA ===== */
const SETS=[

[
{
title:"Two Sum",
desc:`Find two indices such that their values add to target.
Brute force ‚Üí O(n¬≤)
Optimal ‚Üí HashMap O(n).`,
constraints:`2 ‚â§ n ‚â§ 10^4`,
examples:`[2,7,11,15],9 ‚Üí [0,1]
[3,2,4],6 ‚Üí [1,2]
[3,3],6 ‚Üí [0,1]
[1,5,3,7],8 ‚Üí [0,3]
[0,4,3,0],0 ‚Üí [0,3]`
},
{
title:"Palindrome Number",
desc:`Check if integer reads same backward.
Negative numbers are not palindromes.`,
constraints:`-2¬≥¬π ‚â§ x ‚â§ 2¬≥¬π-1`,
examples:`121 ‚Üí true
-121 ‚Üí false
10 ‚Üí false
1331 ‚Üí true
0 ‚Üí true`
},
{
title:"Merge Strings Alternately",
desc:`Merge characters alternately.
If one string ends ‚Üí append rest.`,
constraints:`1 ‚â§ length ‚â§ 1000`,
examples:`abc+pqr ‚Üí apbqcr
ab+pqrs ‚Üí apbqrs
a+b ‚Üí ab
hello+world ‚Üí hweolrllod
x+xyz ‚Üí xxyz`
}
],

[
{
title:"Valid Anagram",
desc:`Two strings are anagrams if character counts match.`,
constraints:`1 ‚â§ length ‚â§ 5√ó10‚Å¥`,
examples:`anagram,nagaram ‚Üí true
rat,car ‚Üí false
listen,silent ‚Üí true
evil,vile ‚Üí true
hello,bello ‚Üí false`
},
{
title:"Remove Duplicates Sorted Array",
desc:`Remove duplicates in-place and return new length.`,
constraints:`1 ‚â§ n ‚â§ 3√ó10‚Å¥`,
examples:`[1,1,2] ‚Üí [1,2]
[0,0,1,1,2] ‚Üí [0,1,2]
[1,2,3] ‚Üí same
[1,1,1] ‚Üí [1]
[] ‚Üí []`
},
{
title:"Max Pos/Neg Count",
desc:`Return larger count between positives & negatives.`,
constraints:`1 ‚â§ n ‚â§ 2000`,
examples:`[-2,-1,-1,1,2,3] ‚Üí 3
[-3,-2,-1] ‚Üí 3
[1,2,3] ‚Üí 3
[-1,0,1] ‚Üí 1
[0,0] ‚Üí 0`
}
],

[
{
title:"Fizz Buzz",
desc:`Multiples of 3 ‚Üí Fizz
5 ‚Üí Buzz
Both ‚Üí FizzBuzz`,
constraints:`1 ‚â§ n ‚â§ 10‚Å¥`,
examples:`3 ‚Üí [1,2,Fizz]
5 ‚Üí ‚Ä¶
15 ‚Üí ‚Ä¶FizzBuzz
1 ‚Üí [1]
2 ‚Üí [1,2]`
},
{
title:"Richest Customer Wealth",
desc:`Row sum = wealth.
Return maximum.`,
constraints:`1 ‚â§ m,n ‚â§ 50`,
examples:`[[1,2,3],[3,2,1]] ‚Üí 6
[[1,5],[7,3]] ‚Üí 10
[[2,8,7]] ‚Üí 17
[[0,0]] ‚Üí 0
[[5],[10],[3]] ‚Üí 10`
},
{
title:"Number of Good Pairs",
desc:`Count pairs where nums[i]==nums[j] and i<j.`,
constraints:`1 ‚â§ n ‚â§ 100`,
examples:`[1,2,3,1,1,3] ‚Üí 4
[1,1,1,1] ‚Üí 6
[1,2,3] ‚Üí 0
[2,2,2] ‚Üí 3
[5,5,5,5,5] ‚Üí 10`
}
]

];

function formatTime(ms){
  const totalSeconds = Math.floor(ms / 1000);
  const m = Math.floor(totalSeconds / 60);
  const s = totalSeconds % 60;
  return `${m.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;
}

/* ================= STORAGE ================= */
function getLock(i){
  return JSON.parse(localStorage.getItem("set_"+i));
}

function isUnlocked(i){
  const data=getLock(i);
  if(!data) return false;

  if(Date.now() > data.expiry){
    localStorage.removeItem("set_"+i);
    return false;
  }
  return true;
}

function unlock(i){
  const expiry = Date.now() + LOCK_DURATION;
  localStorage.setItem("set_"+i, JSON.stringify({expiry}));
}

/* ================= TIMER ================= */
function startTimerFromExpiry(expiry){

  clearInterval(activeInterval);
  navTimer.style.display="block";

  function update(){
    const remaining = expiry - Date.now();

    if(remaining <= 0){
      clearInterval(activeInterval);
      navTimer.innerText="00:00";
      alert("Time Over for this Set");
      goBack();
      return;
    }

    navTimer.innerText = formatTime(remaining);
  }

  update();
  activeInterval = setInterval(update,1000);
}

/* ================= RENDER SETS ================= */
function renderSets(){
  setsScreen.innerHTML="";

  SETS.forEach((_,i)=>{
    const unlocked=isUnlocked(i);

    const div=document.createElement("div");
    div.className="set-card";

    div.innerHTML=`
      <div class="set-title">Set ${i+1}</div>
      <div class="lock">${unlocked?"Unlocked":"üîí Locked"}</div>
    `;

    div.onclick=()=>{
      if(unlocked){
        openSet(i);
      }else{
        selected=i;
        modal.style.display="flex";
      }
    };

    setsScreen.appendChild(div);
  });
}

/* ================= VERIFY PASSWORD ================= */
function verifyPassword(){
  if(passwordInput.value===PASSWORDS[selected]){
    unlock(selected);
    modal.style.display="none";
    openSet(selected);
    renderSets();
  }else{
    alert("Wrong Password");
  }
}

/* ================= OPEN SET ================= */
function openSet(i){

  const lockData = getLock(i);
  if(!lockData){
    alert("Set Locked");
    return;
  }

  setsScreen.style.display="none";
  questionsScreen.style.display="block";
  questionsContainer.innerHTML="";

  startTimerFromExpiry(lockData.expiry);

  SETS[i].forEach((q,idx)=>{
    const div=document.createElement("div");
    div.className="q-card";

    div.innerHTML=`
      <div class="q-title">Q${idx+1}. ${q.title}</div>

      <div class="section"><strong>Explanation</strong>
        <p>${q.desc}</p></div>

      <div class="section"><strong>Constraints</strong>
        <div class="card">${q.constraints}</div></div>

      <div class="section"><strong>Examples</strong>
        <div class="card">${q.examples}</div></div>
    `;

    questionsContainer.appendChild(div);
  });
}

/* ================= GO BACK ================= */
function goBack(){
  clearInterval(activeInterval);
  navTimer.style.display="none";
  questionsScreen.style.display="none";
  setsScreen.style.display="grid";
}

/* ================= INIT ================= */
renderSets();

</script>
</body>
</html>
